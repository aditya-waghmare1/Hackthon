CREATE TABLE users (
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    fname VARCHAR(50) NOT NULL,            
    lname VARCHAR(50) NOT NULL,            
    email VARCHAR(100) UNIQUE NOT NULL,    
    mobile_no VARCHAR(50),                 
    dob VARCHAR(50),                            
    password VARCHAR(255) NOT NULL   
);

CREATE TABLE reviews (
    review_id INT AUTO_INCREMENT PRIMARY KEY,
    movie_id INT NOT NULL,
    review_text TEXT,
    rating INT,
    user_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT fk_user
        FOREIGN KEY (user_id) 
        REFERENCES users (user_id)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);
CREATE TABLE Movies (
    movie_id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    release_date DATE
);

INSERT INTO Movies (title, release_date) VALUES
('The Shawshank Redemption', '1994-09-23'),
('The Godfather', '1972-03-24'),
('The Dark Knight', '2008-07-18'),
('Pulp Fiction', '1994-10-14'),
('Forrest Gump', '1994-07-06');


CREATE TABLE shares (
    user_id INT,
    review_id INT
);

INSERT INTO shares (user_id, review_id)
VALUES
    (1, 101),
    (1, 102),
    (2, 101),
    (3, 103),
    (3, 104);
